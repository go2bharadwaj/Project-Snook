<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="Bharadwaj.css" /> <!--import css-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!--this formats boxes to any device screen size-->
    <style></style>
  </head>
  <body>
    <script src="Bharadwaj.js" type="text/javascript"></script>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.0.0/lib/p5.js"></script> <!--p5js version 1-->

    <div id="header2"></div>

    <div id="first"></div>

    <div id="second"></div>
    
    <div id="third"></div> <!-- To display the box > -->

    
    <script type="text/javascript"> //javascript code starts here using script tag
      
    var total = 0;
      
function game(){  
//SOLI___________________________________________________________________________________________________________________________________________________________
            window.onSoliEvent = function(event) { // this function will run any time a gesture is detected'
                if(event.type == 'tap') {
                   console.log("tap detected");
                }
                if(event.type == 'swipe') {
                  // 1-> right, 7-> down, 5-> left, 3-> up
                  if(event.data.direction == '1') {
                      console.log("right swipe detected");
                      RightSelected();
                      LoadTotal(total);
                  } 
                  else if (event.data.direction == '5') {
                      console.log("left swipe detected");
                      LeftSelected();
                      LoadTotal(total);
                    }
                }

                if(event.type == 'presence') {
                  // do something
                }
                if(event.type == 'reach') {
                  //console.log("tap detected");
                  //t = 0;// do something
                }
            };
//_________________________________________________________________________________________________________________________________________________________________

            let num1 = generateRandom(1, 5, -1);//creates number 0 to 5 for first num in equation
            let num2 = generateRandom(1, 5, -1);//creates number 0 to 5 for second num in equation
            let correct_num = num1 + num2; //correct answer
            let incorrect_num = generateRandom(0, 10, correct_num); //glitch not loading test tomorrow prevents correct answer twice, exclude the correct answer
            var combo = 0;

            LoadQuestion(num1,num2);
            LoadOptions(correct_num,incorrect_num);
            LoadTotal(total);
            //setup();
            //draw();


//Helper Functions_______________________________________________________________________________________________________________________________________________________________________________
//______________________________________________________________________________________________________________________________________________________________________________________________
            function LeftSelected(){
              if(combo === 1){
                var elem1 = document.getElementById("first");
                elem1.style.color = 'green';
                var elem2 = document.getElementById("second");
                elem2.style.color = 'white';
                total = total + 1;
              }
              else if(combo === 2){
                var elem1 = document.getElementById("first");
                elem1.style.color = 'red';
                var elem2 = document.getElementById("second");
                elem2.style.color = 'white';
              }
            }

            function RightSelected(){
              if(combo === 1){
                var elem1 = document.getElementById("first");
                elem1.style.color = 'white';
                var elem2 = document.getElementById("second");
                elem2.style.color = 'red';
              }
              else if(combo === 2){
                var elem1 = document.getElementById("first");
                elem1.style.color = 'white';
                var elem2 = document.getElementById("second");
                elem2.style.color = 'green';
                total = total + 1;
              }
            }


            function generateRandom(min, max, exclude){
                var num = Math.floor(Math.random() * (max - min + 1)) + min;
                return (num === exclude) ? generateRandom(min, max, exclude) : num;
            }

            function LoadTotal(total){ 
                  document.getElementById("third").innerHTML = total;
            }

            function LoadQuestion(num1,num2){
                  let question = num1 + " + " + num2 + " = "; //string for question
                  document.getElementById("header2").innerHTML = question;
            }

            function LoadOptions(correct_num,incorrect_num){
                let decider = Math.floor((Math.random(0) * 5) + 1);   
                  if(decider >= 3){
                    document.getElementById("first").innerHTML = correct_num;
                    document.getElementById("second").innerHTML = incorrect_num;
                    combo = 1;
                  }
                  else{
                    document.getElementById("second").innerHTML = correct_num;
                    document.getElementById("first").innerHTML = incorrect_num;
                    combo = 2;
                  }
            }
            //_________________________________________________________________________________________________________________________________________________________________________________________________
            //_________________________________________________________________________________________________________________________________________________________________________________________________
  }   
    </script>
  </body>
</html>
